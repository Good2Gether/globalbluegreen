<!DOCTYPE html>
<html>
  <head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://unpkg.com/jspsych@7.0.0"></script>
<script src="js/bowser.js"></script>
<script src="js/jquery-3.6.0.min.js"></script>
<script src="dist/jspsych.js"></script>
<script src="dist/plugin-html-keyboard-response.js"></script>
<script src="dist/plugin-html-button-response.js"></script>
<script src="dist/plugin-survey.js"></script>
<script src="dist/plugin-survey-multi-choice.js"></script>
<script src="dist/plugin-image-keyboard-response.js"></script>
<script src="dist/plugin-survey-multi-choice.js"></script>
<script src="dist/plugin-survey-likert.js"></script>
<script src="dist/plugin-preload.js"></script>
<script src="dist/plugin-call-function.js"></script>
<script src="dist/plugin-webgazer-init-camera.js"></script>
<script src="dist/plugin-webgazer-calibrate.js"></script>
<script src="dist/plugin-webgazer-validate.js"></script>
<script src="js/webgazer/webgazer.js"></script>
<script src="dist/plugin-survey-text.js"></script>
<script src="dist/plugin-fullscreen.js"></script>
<script src="dist/extension-webgazer.js"></script>
<link rel="stylesheet" href="dist/jspsych.css"> </link>
<link rel="icon" href="../img/favicon_io/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="180x180" href="../img/favicon_io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../img/favicon_io//favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../img/favicon_io//favicon-16x16.png">
<link rel="manifest" href="../img/favicon_io//site.webmanifest">
    
    
    <!-- <link rel="stylesheet" href="../../dist/jspsych.css"> </link> -->
    
    <!-- <link href="css/" rel="stylesheet" type="text/css"></link> -->
    <link href="css/binary-choice.css" rel="stylesheet" type="text/css"> 
    <link rel="stylesheet" href="">
    

    <!-- <script src="js/binary-choice-table.js"></script> -->
    <script src="js/binary-choice-table-fourAOI.js"></script>
    <script src="js/svo-survey-multi-choice.js"></script>
    <script src="js/svo-survey-likert.js"></script>
    <script src="../src/main AOI.js"></script>
    <style>
      html, body {
			width: 100%;
			height: 100%;
		}
       .no-scroll {
      /* ban scrolling on the main task pages */
      overflow: hidden;
    }
      .jspsych-content {
        max-height: 100%;
        max-width: 100%;
      }
    </style>
  </head>
  <body>
    <div
    style="max-width:1000px; margin:auto;  background-color: white;color:black; padding-bottom: 50px; padding-left: 50px;padding-right: 50px; padding-top: 50px; font-size: larger; font-family:Arial, Helvetica, sans-serif">
    <div id="top-bar">
      <img src="..\img\MPI_logo.png" alt="MPI-logo"  height="100px">

    </div>
    <div id="content">
      <h3> What is the purpose of this research?</h3>
      <p>
        This is a study by the Max Planck Institute for Research on Collective Goods in Germany. 
        The goal is to understand how webcams can capture what we read on the screen.

      </p>
      <h3> What can I expect if I take part in this research?</h3>
      <p>
        This experiment will take approximately 8 minutes to complete. 
        Your payout consists of a fixed amount, 1Â£. 
      </p>
      <p>
        During the study, you will be asked to look at some words on the screen while ignoring others. To our knowledge, there are no risks associated with this research study.
        The records of your responses will be coded in a completely anonymous way. Your records will be
        arbitrarily assigned a subject code number by the system. To secure the transparency of scientific
        findings, the completely anonymized data set will be published and made available to other researchers.
        Please keep in mind that the potential purposes of future analyses of the data cannot be determined.  
      </p>
      <p>
        All the information that you provide is completely anonymous.
        
      </p>
      <h3> What should I know about a research study?</h3>
      <ul>
        <li>Whether or not you take part is up to you.</li>
        <li>You can stop participating at any time. </li>
        <li>Your decisions will not be held against you.</li>
        <li>There are no negative consequences for you if you decide to stop participating.</li>
      </ul>
      <h3>
        Who can I talk to?
      </h3>
      <p>
        If you have questions, concerns, complaints, or think the research has hurt you,
        please contact Rima-Maria Rahal via <a href="mailto:rahal@coll.mpg.de">rahal@coll.mpg.de</a>.     
      <h3> Eye Tracking</h3>
        <p>This experiment uses your webcam for eye tracking. The data that we will be recording is where
          you appear to be looking at your computer screen. There will be NO video of you sent to us.
            The data consists of only two numbers, indicating the position of your gaze on the screen.
            We do not record your screen. We do not record your actual video footage.</p>
        <p>To participate you must allow the experiment to use your camera on the next screen. If you do not want the experiment to use your camera, please close the page.</p>

    </div>
    <p style="text-align: center;"></p>
    <div style="text-align:right;">
        <input type="checkbox" class="checkmark">
        I <b>AGREE</b> with the above information.
        <br><br><br>
        <button class="goExp jspsych-btn" >
            Click to continue!
        </button>
    </div>
</div>
  </body>
  <script>
    // startExp();
    const goExp = document.querySelector(".goExp");

    function showAlert() {
        alert("Please check the checkbox to continue.");
    }


    $('body').on('click', '.goExp', function () {
      if ($('.checkmark').is(":checked"))
      {
        ensureWebcam(() => startExp());
      // startExp();
      }else{
        showAlert();
      }
        
    });

    function ensureWebcam(callback) {
        $('body').html('<p class="center", style="font-family:Arial, Helvetica, sans-serif">Checking webcam ... give permission to start the experiment.</p>');
        window.navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
            stream.getTracks().forEach(track => track.stop());
            callback();
        })
        .catch(function() {
            alert('Cannot open webcam.\nIs it blocked? This study requires webcam.');
            location.reload();
        });
    }
    
  </script>
</html>
