<!DOCTYPE html>
<html>
  <head>
    <script src="js/jquery-3.6.0.min.js"></script>

    <script src="js/bowser.js"></script>

    <script src="dist/jspsych.js"></script>
    <script src="dist/plugin-html-keyboard-response.js"></script>
    <script src="dist/plugin-html-button-response.js"></script>
    <script src="dist/plugin-survey.js"></script>
    <script src="dist/plugin-survey-multi-choice.js"></script>
    <script src="dist/plugin-image-keyboard-response.js"></script>
    <script src="dist/plugin-survey-multi-choice.js"></script>
    <script src="dist/plugin-survey-text.js"></script>
    <script src="dist/plugin-preload.js"></script>
    <script src="dist/plugin-call-function.js"></script>
    <script src="dist/plugin-webgazer-init-camera.js"></script>
    <script src="dist/plugin-webgazer-calibrate.js"></script>
    <script src="dist/plugin-webgazer-validate.js"></script>
    <script src="js/webgazer/webgazer.js"></script>
    <script src="dist/plugin-survey-text.js"></script>
    <script src="dist/plugin-fullscreen.js"></script>
    <script src="dist/extension-webgazer.js"></script>
    <link rel="stylesheet" href="dist/jspsych.css"> </link>
    
    <!-- <link rel="stylesheet" href="../../dist/jspsych.css"> </link> -->
    
    <!-- <link href="css/" rel="stylesheet" type="text/css"></link> -->
    <link href="css/binary-choice.css" rel="stylesheet" type="text/css"> 
    <link rel="stylesheet" href="">
    <script src="js/stimuli_data.js"></script>
    <script src="js/stimuli_data_R1.js"></script>
    
    <!-- <script src="js/binary-choice-table.js"></script> -->
    <script src="js/binary-choice-table-four.js"></script>
    <script src="js/svo-survey-multi-choice.js"></script>
    <script src="js/svo-survey-likert.js"></script>
    <script src="../src/main.js"></script>
    <style>
      .jspsych-content {
        max-width: 100%;
      }
    </style>
  </head>
  <body>
    <div
    style="max-width:1000px; margin:auto;  background-color: white;color:black; padding-bottom: 50px; padding-left: 50px;padding-right: 50px; padding-top: 50px; font-size: larger; font-family:Arial, Helvetica, sans-serif">
    <div id="top-bar">
      <img src="..\img\MPI_logo.png" alt="MPI-logo"  height="100px">

    </div>
    <div id="content">
      <h3> What is the purpose of this research?</h3>
      <p>
        This research study is being conducted by the Max Planck Institute for Research on Collective Goods (Bonn, Germany).
        This study will help us better understand human decision-making.

      </p>
      <h3> What can I expect if I take part in this research?</h3>
      <p>
        This experiment will take approximately XX MINUTES to complete. 
        Your payout consists of a fixed amount, XX MONEY
        and a variable component that depends on your decisions and your chance in this study. <br>
        This study begins with a brief survey, which includes three demographic questions. Afterward,
        you will proceed to the experiment. This study requires webcam access, for which we will ask for
        permission to turn on your webcam during the experiment. The data that we will be recording is where
        you appear to be looking at your computer screen, but not the webcam recording itself.
        This data consists of only two numbers, referring to the position of your gaze on the XY axis.
        We do not access either your screen or your actual video footage.
        There will be 4 calibration procedures during the study to correctly measure your gaze location.
        In case you do not wish to allow webcam access, please do not participate in this experiment.
 
      </p>
      <p>
        Kindly note that during the study, you will be asked for personal attitudes and demographic information
        that is important for the results of the study. However, we do not require your name or sensitive
        biographic information. To our knowledge, there are no risks associated with this research study.
        The records of your responses will be coded in a completely anonymous way. Your records will be
        arbitrarily assigned a subject code number by the system. To secure the transparency of scientific
        findings, the completely anonymized data set will be published and made available to other researchers.
        Please keep in mind that the potential purposes of future analyses of the data cannot be determined.  
      </p>
      <p>
        All the information that you provide is completely confidential in nature.
        
      </p>
      <h3> What should I know about a research study?</h3>
      <ul>
        <li>Whether or not you take part is up to you.</li>
        <li>Your participation is completely voluntary.</li> 
        <li>You can agree to take part and not finish the study. </li>
        <li>Your decisions will not be held against you.</li>
        <li>Your refusal to participate will not result in any consequences or any loss of
          benefits that you are otherwise entitled to receive.</li>
      </ul>
      <p>
        As part of this research design, we are not allowed to further elaborate on the purpose of this research.
      </p>
      <h3>
        Who can I talk to?
      </h3>
      <p>
        If you have questions, concerns, complaints, or think the research has hurt you,
        please contact Rima-Maria Rahal via <a href="mailto:rahal@coll.mpg.de">rahal@coll.mpg.de</a>.      </p>
    </div>
    <p style="text-align: center;"></p>
    <div style="text-align:right;">
        <input type="checkbox" class="checkmark">
        I <b>AGREE</b> with the above information.
        <br><br><br>
        <button class="goExp jspsych-btn" >
            Click to continue!
        </button>
    </div>
</div>
  </body>
  <script>
    // startExp();
    const goExp = document.querySelector(".goExp");

    function showAlert() {
        alert("Please check the checkbox to continue.");
    }


    $('body').on('click', '.goExp', function () {
      if ($('.checkmark').is(":checked"))
      {
        ensureWebcam(() => startExp());
      // startExp();
      }else{
        showAlert();
      }
        
    });

    function ensureWebcam(callback) {
        $('body').html('<p class="center", style="font-family:Arial, Helvetica, sans-serif">Checking webcam ...</p>');
        window.navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
            stream.getTracks().forEach(track => track.stop());
            callback();
        })
        .catch(function() {
            alert('Cannot open webcam.\nIs it blocked? This app requires webcam.');
            location.reload();
        });
    }
    
  </script>
</html>
