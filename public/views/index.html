<!DOCTYPE html>
<html>
  <head>
    <script src="js/jquery-3.6.0.min.js"></script>

    <script src="js/bowser.js"></script>

    <script src="dist/jspsych.js"></script>
    <script src="dist/plugin-html-keyboard-response.js"></script>
    <script src="dist/plugin-html-button-response.js"></script>
    <script src="dist/plugin-call-function.js"></script>
    <script src="dist/plugin-webgazer-init-camera.js"></script>
    <script src="dist/plugin-webgazer-calibrate.js"></script>
    <script src="dist/plugin-webgazer-validate.js"></script>
    <script src="js/webgazer/webgazer.js"></script>
    <script src="dist/plugin-survey-text.js"></script>
    <script src="dist/plugin-fullscreen.js"></script>
    <script src="dist/extension-webgazer.js"></script>
    <link rel="stylesheet" href="dist/jspsych.css"> </link>
    
    <!-- <link rel="stylesheet" href="../../dist/jspsych.css"> </link> -->
    
    <!-- <link href="css/" rel="stylesheet" type="text/css"></link> -->
    <link href="css/binary-choice.css" rel="stylesheet" type="text/css"> 
    <link rel="stylesheet" href="">
    <script src="js/stimuli_data.js"></script>
    
    <!-- <script src="js/binary-choice-table.js"></script> -->
    <script src="js/binary-choice-table-four.js"></script>
    <script src="js/svo-survey-multi-choice.js"></script>
    <script src="js/svo-survey-likert.js"></script>
    <script src="../src/main.js"></script>
    <style>
      .jspsych-content {
        max-width: 100%;
      }
    </style>
  </head>
  <body>
    <div
    style="max-width:1000px; margin:auto;  background-color: white;color:black; padding-bottom: 50px; padding-left: 50px;padding-right: 50px; padding-top: 50px; font-size: larger; font-family:Arial, Helvetica, sans-serif">
    <div id="top-bar">
      <img src="..\img\WU_logo.png" alt="WU-logo"  height="100px">

    </div>
    <div id="content">
      <h3> What is the purpose of this research?</h3>
      <p>
        This research study is being conducted by â€¦ .
        This study will help us better understand human decision-making.

      </p>
      <h3> What can I expect if I take part in this research?</h3>
      <p>
        This experiment will take approximately XX minutes to complete,
        and you will be paid YY for your time and voluntary participation. <br>
        This study begins with a brief survey, which includes three demographic
        questions. Afterward, you will proceed to the experiment. This study requires
        webcam access, for which we will ask for permission to turn on your webcam
        during the experiment. The data that we will be recording is where you appear
        to be looking at your computer screen, but not the webcam recording itself.
        This data consists of only two numbers, referring to the position of your gaze
        on the XY axis. We do not access either your screen or your actual video footage.
        There will be x calibration procedures during the study to correctly measure your
        gaze location. In case you do not wish to allow webcam access,
        please do not participate in this experiment. 
      </p>
      <p>
        DKindly note that during the study, you will be asked for personal or
        sensitive demographic information that is important for the results of
        the study. However, we do not require your name or sensitive biographic
        information. To our knowledge, there are no risks associated with this research
        study. The records of your responses will be coded in a completely anonymous way.
        Your records will be arbitrarily assigned a subject code number by the system.
        To secure the transparency of scientific findings, the completely anonymized
        data set will be published and made available to other researchers.
        Please keep in mind that the potential purposes of future analyses of
        the data cannot be determined. 
      </p>
      <p>
        Though it would greatly help us to be able to measure your answers, please feel
        free to skip the demographic questions that you do not want to answer and remember
        that all information that you provide is completely confidential in nature.
        
      </p>
      <h3> What should I know about a research study?</h3>
      <ul>
        <li>Whether or not you take part is up to you.</li>
        <li>Your participation is completely voluntary.</li>
        <li>You can skip the demographic questions if you do not wish to answer them.</li>  
        <li>You can agree to take part and not finish the study. </li>
        <li>Your decisions will not be held against you.</li>
        <li>Your refusal to participate will not result in any consequences or any loss of
          benefits that you are otherwise entitled to receive.</li>
      </ul>
      <p>
        As part of this research design, we are not allowed to further elaborate on the purpose of this research.
      </p>
      <h3>
        Who can I talk to?
      </h3>
      <p>
        If you have questions, concerns, complaints, or think the research has hurt you,
        please contact XXX at XXX@XX.X
      </p>
    </div>
    <p style="text-align: center;"></p>
    <div style="text-align:right;">
        <input type="checkbox" class="checkmark">
        I <b>AGREE</b> with the above consent.
        <br><br><br>
        <button class="goExp jspsych-btn" >
            Continue
        </button>
    </div>
</div>
  </body>
  <script>
    // startExp();
    const goExp = document.querySelector(".goExp");

    function showAlert() {
        alert("Please check the checkbox to continue.");
    }


    $('body').on('click', '.goExp', function () {
      if ($('.checkmark').is(":checked"))
      {
        ensureWebcam(() => startExp());
      // startExp();
      }else{
        showAlert();
      }
        
    });

    function ensureWebcam(callback) {
        $('body').html('<p class="center", style="font-family:Arial, Helvetica, sans-serif">Checking webcam ...</p>');
        window.navigator.mediaDevices.getUserMedia({ video: true })
        .then(function(stream) {
            stream.getTracks().forEach(track => track.stop());
            callback();
        })
        .catch(function() {
            alert('Cannot open webcam.\nIs it blocked? This app requires webcam.');
            location.reload();
        });
    }
    
  </script>
</html>
